{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/warre/dev/flatiron/projects/market-data-company/pages/_app.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport App, { Container } from 'next/app';\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { ThemeProvider } from 'styled-components';\nimport theme from '../assets/theme';\nimport GlobalStyles from '../styles/GlobalStyles';\nimport { StoreProvider } from '../store/useStore';\nimport analyticsService from '../services/analyticsService';\nexport default class MyApp extends App {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      currentRoute: this.props.router.route\n    });\n\n    this._ref = /*#__PURE__*/React.createRef();\n  }\n\n  static async getInitialProps({\n    Component,\n    router,\n    ctx\n  }) {\n    let pageProps = {};\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    return {\n      pageProps\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.state.currentRoute !== this.props.router.route) {\n      this.setState({\n        currentRoute: this.props.router.route\n      }, () => {\n        analyticsService.trackPage(this.state.currentRoute);\n      });\n    }\n  }\n  /**\n   * Initializes GA if has not been initialized yet\n   */\n\n\n  componentDidMount() {\n    const {\n      currentRoute\n    } = this.state;\n\n    if (!window.GA_INITIALIZED) {\n      analyticsService.initialize();\n      window.GA_INITIALIZED = true;\n    }\n\n    analyticsService.trackPage(currentRoute);\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps\n    } = this.props;\n    return __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 4\n      }\n    }, __jsx(StoreProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }\n    }, __jsx(GlobalStyles, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 6\n      }\n    }), __jsx(ThemeProvider, {\n      theme: theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }\n    }, __jsx(Component, _extends({}, pageProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/mnt/c/Users/warre/dev/flatiron/projects/market-data-company/pages/_app.js"],"names":["App","Container","React","ThemeProvider","theme","GlobalStyles","StoreProvider","analyticsService","MyApp","constructor","props","currentRoute","router","route","_ref","createRef","getInitialProps","Component","ctx","pageProps","componentDidUpdate","state","setState","trackPage","componentDidMount","window","GA_INITIALIZED","initialize","render"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,IAAcC,SAAd,QAA+B,UAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,aAAT,QAA8B,mBAA9B;AAEA,OAAOC,gBAAP,MAA6B,8BAA7B;AAEA,eAAe,MAAMC,KAAN,SAAoBR,GAApB,CAAwB;AACtCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,mCAKX;AACPC,MAAAA,YAAY,EAAE,KAAKD,KAAL,CAAWE,MAAX,CAAkBC;AADzB,KALW;;AAElB,SAAKC,IAAL,gBAAYZ,KAAK,CAACa,SAAN,EAAZ;AACA;;AAM2B,eAAfC,eAAe,CAAC;AAAEC,IAAAA,SAAF;AAAaL,IAAAA,MAAb;AAAqBM,IAAAA;AAArB,GAAD,EAA6B;AACxD,QAAIC,SAAS,GAAG,EAAhB;;AAEA,QAAIF,SAAS,CAACD,eAAd,EAA+B;AAC9BG,MAAAA,SAAS,GAAG,MAAMF,SAAS,CAACD,eAAV,CAA0BE,GAA1B,CAAlB;AACA;;AAED,WAAO;AAAEC,MAAAA;AAAF,KAAP;AACA;;AAEDC,EAAAA,kBAAkB,GAAG;AACpB,QAAI,KAAKC,KAAL,CAAWV,YAAX,KAA4B,KAAKD,KAAL,CAAWE,MAAX,CAAkBC,KAAlD,EAAyD;AACxD,WAAKS,QAAL,CACC;AACCX,QAAAA,YAAY,EAAE,KAAKD,KAAL,CAAWE,MAAX,CAAkBC;AADjC,OADD,EAIC,MAAM;AACLN,QAAAA,gBAAgB,CAACgB,SAAjB,CAA2B,KAAKF,KAAL,CAAWV,YAAtC;AACA,OANF;AAQA;AACD;AAED;AACD;AACA;;;AACCa,EAAAA,iBAAiB,GAAG;AACnB,UAAM;AAAEb,MAAAA;AAAF,QAAmB,KAAKU,KAA9B;;AAEA,QAAI,CAACI,MAAM,CAACC,cAAZ,EAA4B;AAC3BnB,MAAAA,gBAAgB,CAACoB,UAAjB;AACAF,MAAAA,MAAM,CAACC,cAAP,GAAwB,IAAxB;AACA;;AAEDnB,IAAAA,gBAAgB,CAACgB,SAAjB,CAA2BZ,YAA3B;AACA;;AAEDiB,EAAAA,MAAM,GAAG;AACR,UAAM;AAAEX,MAAAA,SAAF;AAAaE,MAAAA;AAAb,QAA2B,KAAKT,KAAtC;AACA,WACC,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,MAAC,aAAD;AAAe,MAAA,KAAK,EAAEN,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,SAAD,eAAee,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD,CAFD,CADD,CADD;AAUA;;AA3DqC","sourcesContent":["import App, { Container } from 'next/app'\nimport React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { ThemeProvider } from 'styled-components'\nimport theme from '../assets/theme'\nimport GlobalStyles from '../styles/GlobalStyles'\nimport { StoreProvider } from '../store/useStore'\n\nimport analyticsService from '../services/analyticsService'\n\nexport default class MyApp extends App {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis._ref = React.createRef()\n\t}\n\n\tstate = {\n\t\tcurrentRoute: this.props.router.route\n\t}\n\n\tstatic async getInitialProps({ Component, router, ctx }) {\n\t\tlet pageProps = {}\n\n\t\tif (Component.getInitialProps) {\n\t\t\tpageProps = await Component.getInitialProps(ctx)\n\t\t}\n\n\t\treturn { pageProps }\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.currentRoute !== this.props.router.route) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tcurrentRoute: this.props.router.route\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tanalyticsService.trackPage(this.state.currentRoute)\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\t/**\n\t * Initializes GA if has not been initialized yet\n\t */\n\tcomponentDidMount() {\n\t\tconst { currentRoute } = this.state\n\n\t\tif (!window.GA_INITIALIZED) {\n\t\t\tanalyticsService.initialize()\n\t\t\twindow.GA_INITIALIZED = true\n\t\t}\n\n\t\tanalyticsService.trackPage(currentRoute)\n\t}\n\n\trender() {\n\t\tconst { Component, pageProps } = this.props\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<StoreProvider>\n\t\t\t\t\t<GlobalStyles />\n\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t<Component {...pageProps} />\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t</StoreProvider>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}