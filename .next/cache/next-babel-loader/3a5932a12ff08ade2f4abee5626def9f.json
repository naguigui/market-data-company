{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/mnt/c/Users/warre/dev/flatiron/projects/market-data-company/pages/solutions.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react'; // import {\n//     Layout,\n//     Modal,\n//     ThankYou,\n//     ResearchPdfForm,\n//     StartDownloadForm,\n//     ContactFooter\n// } from '../components'\n// import {\n//     Landing,\n//     LeaderMarketData,\n//     WorkedWith,\n//     WhyMdc,\n//     Services,\n//     Research\n// } from '../sections/home-section'\n// import pdfMapper from '../utils/pdfMapper'\n// // Utils\n// import { validateEmail } from '../utils/validator'\n// import { sendEmail } from '../services/apiService'\n// import { useStore } from '../store/useStore'\n// import { USER_SIGNED_UP } from '../store/actionTypes'\n// import styled from 'styled-components'\n// import breakpoint from 'styled-components-breakpoint'\n// const ContentWrapper = styled.div`\n// \tmax-width: 1200px;\n// \tpadding: 0 20px;\n// \tmargin: 0 auto;\n// `\n\nvar Home = function Home() {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalVisible = _useState2[0],\n      setModalVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasError = _useState4[0],\n      setHasError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      emailSent = _useState6[0],\n      setEmailSent = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pdfForm = _useState8[0],\n      setPdfForm = _useState8[1];\n\n  var _useState9 = useState({\n    firstName: '',\n    company: '',\n    email: ''\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      form = _useState10[0],\n      setFormValues = _useState10[1]; // Hooks to save the users form data\n\n\n  var _useStore = useStore(),\n      state = _useStore.state,\n      dispatch = _useStore.dispatch;\n\n  var saveUser = useCallback(function (formValues) {\n    return dispatch({\n      type: USER_SIGNED_UP,\n      payload: formValues\n    });\n  }, [dispatch]);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return sendEmail(form);\n\n            case 3:\n              res = _context.sent;\n\n              if (res.error) {\n                setHasError(true);\n              } else {\n                // Save user form to store\n                saveUser({\n                  name: form.firstName,\n                  company: form.company,\n                  email: form.email\n                });\n                setEmailSent(true);\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              setHasError(true);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function onSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var updateField = function updateField(e) {\n    setFormValues(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var onModalClose = function onModalClose() {\n    setModalVisible(false);\n    setEmailSent(false);\n  };\n\n  var openModal = function openModal(researchForm) {\n    setModalVisible(true);\n    setPdfForm(pdfMapper[researchForm]);\n  };\n\n  var isDisabled = !form.firstName && !validateEmail(form.email);\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, __jsx(Landing, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), __jsx(Modal, {\n    modalVisible: modalVisible,\n    onRequestClose: onModalClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, !emailSent && !hasError && !state.user && __jsx(ResearchPdfForm, {\n    firstName: form.firstName,\n    company: form.company,\n    email: form.email,\n    onChange: updateField,\n    isDisabled: isDisabled,\n    onRequestClose: onModalClose,\n    onSubmit: onSubmit,\n    pdfForm: pdfForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), !emailSent && !hasError && state.user && __jsx(StartDownloadForm, {\n    onRequestClose: onModalClose,\n    pdfForm: pdfForm,\n    onSubmit: function onSubmit() {\n      return setEmailSent(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), emailSent && !hasError && __jsx(ThankYou, {\n    description: \"Your download should start automatically. Enjoy!\",\n    footerMessage: \"Back to research\",\n    href: \"/research\",\n    onClick: onModalClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  })), __jsx(ContentWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(LeaderMarketData, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }), __jsx(WorkedWith, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }), __jsx(WhyMdc, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }), __jsx(Services, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }), __jsx(Research, {\n    onClick: openModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  })), __jsx(ContactFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }));\n};\n\n_s(Home, \"NxPgVQqtcLzZluZWuOlJ6p6Simw=\", true);\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/mnt/c/Users/warre/dev/flatiron/projects/market-data-company/pages/solutions.js"],"names":["React","Home","useState","modalVisible","setModalVisible","hasError","setHasError","emailSent","setEmailSent","pdfForm","setPdfForm","firstName","company","email","form","setFormValues","useStore","state","dispatch","saveUser","useCallback","formValues","type","USER_SIGNED_UP","payload","onSubmit","sendEmail","res","error","name","updateField","e","target","value","onModalClose","openModal","researchForm","pdfMapper","isDisabled","validateEmail","user"],"mappings":"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","sourcesContent":["import React from 'react'\r\n// import {\r\n//     Layout,\r\n//     Modal,\r\n//     ThankYou,\r\n//     ResearchPdfForm,\r\n//     StartDownloadForm,\r\n//     ContactFooter\r\n// } from '../components'\r\n// import {\r\n//     Landing,\r\n//     LeaderMarketData,\r\n//     WorkedWith,\r\n//     WhyMdc,\r\n//     Services,\r\n//     Research\r\n// } from '../sections/home-section'\r\n\r\n// import pdfMapper from '../utils/pdfMapper'\r\n\r\n// // Utils\r\n// import { validateEmail } from '../utils/validator'\r\n// import { sendEmail } from '../services/apiService'\r\n\r\n// import { useStore } from '../store/useStore'\r\n// import { USER_SIGNED_UP } from '../store/actionTypes'\r\n\r\n// import styled from 'styled-components'\r\n// import breakpoint from 'styled-components-breakpoint'\r\n\r\n// const ContentWrapper = styled.div`\r\n// \tmax-width: 1200px;\r\n// \tpadding: 0 20px;\r\n// \tmargin: 0 auto;\r\n\r\n// `\r\n\r\nconst Home = () => {\r\n    const [modalVisible, setModalVisible] = useState(false)\r\n    const [hasError, setHasError] = useState(false)\r\n    const [emailSent, setEmailSent] = useState(false)\r\n    const [pdfForm, setPdfForm] = useState('')\r\n\r\n    const [form, setFormValues] = useState({\r\n        firstName: '',\r\n        company: '',\r\n        email: ''\r\n    })\r\n\r\n    // Hooks to save the users form data\r\n    const { state, dispatch } = useStore()\r\n    const saveUser = useCallback(\r\n        (formValues) => dispatch({ type: USER_SIGNED_UP, payload: formValues }),\r\n        [dispatch]\r\n    )\r\n\r\n    const onSubmit = async () => {\r\n        try {\r\n            const res = await sendEmail(form)\r\n            if (res.error) {\r\n                setHasError(true)\r\n            } else {\r\n                // Save user form to store\r\n                saveUser({\r\n                    name: form.firstName,\r\n                    company: form.company,\r\n                    email: form.email\r\n                })\r\n                setEmailSent(true)\r\n            }\r\n        } catch (err) {\r\n            setHasError(true)\r\n        }\r\n    }\r\n\r\n    const updateField = (e) => {\r\n        setFormValues({\r\n            ...form,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const onModalClose = () => {\r\n        setModalVisible(false)\r\n        setEmailSent(false)\r\n    }\r\n\r\n    const openModal = (researchForm) => {\r\n        setModalVisible(true)\r\n        setPdfForm(pdfMapper[researchForm])\r\n    }\r\n\r\n    const isDisabled = !form.firstName && !validateEmail(form.email)\r\n\r\n    return (\r\n        <Layout>\r\n            <Landing />\r\n            <Modal modalVisible={modalVisible} onRequestClose={onModalClose}>\r\n                {!emailSent && !hasError && !state.user && (\r\n                    <ResearchPdfForm\r\n                        firstName={form.firstName}\r\n                        company={form.company}\r\n                        email={form.email}\r\n                        onChange={updateField}\r\n                        isDisabled={isDisabled}\r\n                        onRequestClose={onModalClose}\r\n                        onSubmit={onSubmit}\r\n                        pdfForm={pdfForm}\r\n                    />\r\n                )}\r\n                {!emailSent && !hasError && state.user && (\r\n                    <StartDownloadForm\r\n                        onRequestClose={onModalClose}\r\n                        pdfForm={pdfForm}\r\n                        onSubmit={() => setEmailSent(true)}\r\n                    />\r\n                )}\r\n                {emailSent && !hasError && (\r\n                    <ThankYou\r\n                        description=\"Your download should start automatically. Enjoy!\"\r\n                        footerMessage=\"Back to research\"\r\n                        href=\"/research\"\r\n                        onClick={onModalClose}\r\n                    />\r\n                )}\r\n            </Modal>\r\n            <ContentWrapper>\r\n                <LeaderMarketData />\r\n                <WorkedWith />\r\n                <WhyMdc />\r\n                <Services />\r\n                <Research onClick={openModal} />\r\n            </ContentWrapper>\r\n            <ContactFooter />\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}