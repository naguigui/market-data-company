{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/warre/dev/flatiron/projects/market-data-company/pages/solutions.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useCallback } from 'react';\nimport { Layout, Modal, ThankYou, ResearchPdfForm, StartDownloadForm, ContactFooter } from '../components';\nimport { Landing, LeaderMarketData, WorkedWith, WhyMdc, Services, Research } from '../sections/home-section';\nimport pdfMapper from '../utils/pdfMapper'; // Utils\n\nimport { validateEmail } from '../utils/validator';\nimport { sendEmail } from '../services/apiService';\nimport { useStore } from '../store/useStore';\nimport { USER_SIGNED_UP } from '../store/actionTypes';\nimport styled from 'styled-components';\nimport breakpoint from 'styled-components-breakpoint';\nconst ContentWrapper = styled.div.withConfig({\n  displayName: \"solutions__ContentWrapper\",\n  componentId: \"sc-1xe4snq-0\"\n})([\"max-width:1200px;padding:0 20px;margin:0 auto;\"]);\n\nconst Home = () => {\n  const {\n    0: modalVisible,\n    1: setModalVisible\n  } = useState(false);\n  const {\n    0: hasError,\n    1: setHasError\n  } = useState(false);\n  const {\n    0: emailSent,\n    1: setEmailSent\n  } = useState(false);\n  const {\n    0: pdfForm,\n    1: setPdfForm\n  } = useState('');\n  const {\n    0: form,\n    1: setFormValues\n  } = useState({\n    firstName: '',\n    company: '',\n    email: ''\n  }); // Hooks to save the users form data\n\n  const {\n    state,\n    dispatch\n  } = useStore();\n  const saveUser = useCallback(formValues => dispatch({\n    type: USER_SIGNED_UP,\n    payload: formValues\n  }), [dispatch]);\n\n  const onSubmit = async () => {\n    try {\n      const res = await sendEmail(form);\n\n      if (res.error) {\n        setHasError(true);\n      } else {\n        // Save user form to store\n        saveUser({\n          name: form.firstName,\n          company: form.company,\n          email: form.email\n        });\n        setEmailSent(true);\n      }\n    } catch (err) {\n      setHasError(true);\n    }\n  };\n\n  const updateField = e => {\n    setFormValues(_objectSpread(_objectSpread({}, form), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onModalClose = () => {\n    setModalVisible(false);\n    setEmailSent(false);\n  };\n\n  const openModal = researchForm => {\n    setModalVisible(true);\n    setPdfForm(pdfMapper[researchForm]);\n  };\n\n  const isDisabled = !form.firstName && !validateEmail(form.email);\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, __jsx(Landing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), __jsx(Modal, {\n    modalVisible: modalVisible,\n    onRequestClose: onModalClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, !emailSent && !hasError && !state.user && __jsx(ResearchPdfForm, {\n    firstName: form.firstName,\n    company: form.company,\n    email: form.email,\n    onChange: updateField,\n    isDisabled: isDisabled,\n    onRequestClose: onModalClose,\n    onSubmit: onSubmit,\n    pdfForm: pdfForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), !emailSent && !hasError && state.user && __jsx(StartDownloadForm, {\n    onRequestClose: onModalClose,\n    pdfForm: pdfForm,\n    onSubmit: () => setEmailSent(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), emailSent && !hasError && __jsx(ThankYou, {\n    description: \"Your download should start automatically. Enjoy!\",\n    footerMessage: \"Back to research\",\n    href: \"/research\",\n    onClick: onModalClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  })), __jsx(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(LeaderMarketData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }), __jsx(WorkedWith, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }), __jsx(WhyMdc, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }), __jsx(Services, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }), __jsx(Research, {\n    onClick: openModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  })), __jsx(ContactFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/mnt/c/Users/warre/dev/flatiron/projects/market-data-company/pages/solutions.js"],"names":["React","useState","useCallback","Layout","Modal","ThankYou","ResearchPdfForm","StartDownloadForm","ContactFooter","Landing","LeaderMarketData","WorkedWith","WhyMdc","Services","Research","pdfMapper","validateEmail","sendEmail","useStore","USER_SIGNED_UP","styled","breakpoint","ContentWrapper","div","Home","modalVisible","setModalVisible","hasError","setHasError","emailSent","setEmailSent","pdfForm","setPdfForm","form","setFormValues","firstName","company","email","state","dispatch","saveUser","formValues","type","payload","onSubmit","res","error","name","err","updateField","e","target","value","onModalClose","openModal","researchForm","isDisabled","user"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\r\nimport {\r\n    Layout,\r\n    Modal,\r\n    ThankYou,\r\n    ResearchPdfForm,\r\n    StartDownloadForm,\r\n    ContactFooter\r\n} from '../components'\r\nimport {\r\n    Landing,\r\n    LeaderMarketData,\r\n    WorkedWith,\r\n    WhyMdc,\r\n    Services,\r\n    Research\r\n} from '../sections/home-section'\r\n\r\nimport pdfMapper from '../utils/pdfMapper'\r\n\r\n// Utils\r\nimport { validateEmail } from '../utils/validator'\r\nimport { sendEmail } from '../services/apiService'\r\n\r\nimport { useStore } from '../store/useStore'\r\nimport { USER_SIGNED_UP } from '../store/actionTypes'\r\n\r\nimport styled from 'styled-components'\r\nimport breakpoint from 'styled-components-breakpoint'\r\n\r\nconst ContentWrapper = styled.div`\r\n\tmax-width: 1200px;\r\n\tpadding: 0 20px;\r\n\tmargin: 0 auto;\r\n\r\n`\r\n\r\nconst Home = () => {\r\n    const [modalVisible, setModalVisible] = useState(false)\r\n    const [hasError, setHasError] = useState(false)\r\n    const [emailSent, setEmailSent] = useState(false)\r\n    const [pdfForm, setPdfForm] = useState('')\r\n\r\n    const [form, setFormValues] = useState({\r\n        firstName: '',\r\n        company: '',\r\n        email: ''\r\n    })\r\n\r\n    // Hooks to save the users form data\r\n    const { state, dispatch } = useStore()\r\n    const saveUser = useCallback(\r\n        (formValues) => dispatch({ type: USER_SIGNED_UP, payload: formValues }),\r\n        [dispatch]\r\n    )\r\n\r\n    const onSubmit = async () => {\r\n        try {\r\n            const res = await sendEmail(form)\r\n            if (res.error) {\r\n                setHasError(true)\r\n            } else {\r\n                // Save user form to store\r\n                saveUser({\r\n                    name: form.firstName,\r\n                    company: form.company,\r\n                    email: form.email\r\n                })\r\n                setEmailSent(true)\r\n            }\r\n        } catch (err) {\r\n            setHasError(true)\r\n        }\r\n    }\r\n\r\n    const updateField = (e) => {\r\n        setFormValues({\r\n            ...form,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const onModalClose = () => {\r\n        setModalVisible(false)\r\n        setEmailSent(false)\r\n    }\r\n\r\n    const openModal = (researchForm) => {\r\n        setModalVisible(true)\r\n        setPdfForm(pdfMapper[researchForm])\r\n    }\r\n\r\n    const isDisabled = !form.firstName && !validateEmail(form.email)\r\n\r\n    return (\r\n        <Layout>\r\n            <Landing />\r\n            <Modal modalVisible={modalVisible} onRequestClose={onModalClose}>\r\n                {!emailSent && !hasError && !state.user && (\r\n                    <ResearchPdfForm\r\n                        firstName={form.firstName}\r\n                        company={form.company}\r\n                        email={form.email}\r\n                        onChange={updateField}\r\n                        isDisabled={isDisabled}\r\n                        onRequestClose={onModalClose}\r\n                        onSubmit={onSubmit}\r\n                        pdfForm={pdfForm}\r\n                    />\r\n                )}\r\n                {!emailSent && !hasError && state.user && (\r\n                    <StartDownloadForm\r\n                        onRequestClose={onModalClose}\r\n                        pdfForm={pdfForm}\r\n                        onSubmit={() => setEmailSent(true)}\r\n                    />\r\n                )}\r\n                {emailSent && !hasError && (\r\n                    <ThankYou\r\n                        description=\"Your download should start automatically. Enjoy!\"\r\n                        footerMessage=\"Back to research\"\r\n                        href=\"/research\"\r\n                        onClick={onModalClose}\r\n                    />\r\n                )}\r\n            </Modal>\r\n            <ContentWrapper>\r\n                <LeaderMarketData />\r\n                <WorkedWith />\r\n                <WhyMdc />\r\n                <Services />\r\n                <Research onClick={openModal} />\r\n            </ContentWrapper>\r\n            <ContactFooter />\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}